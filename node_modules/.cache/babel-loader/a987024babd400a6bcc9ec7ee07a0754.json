{"ast":null,"code":"'use strict';\n\nconst u = require('universalify').fromPromise;\n\nconst path = require('path');\n\nconst fs = require('../fs');\n\nconst mkdir = require('../mkdirs');\n\nconst {\n  pathExists\n} = require('../path-exists');\n\nconst {\n  areIdentical\n} = require('../util/stat');\n\nasync function createLink(srcpath, dstpath) {\n  let dstStat;\n\n  try {\n    dstStat = await fs.lstat(dstpath);\n  } catch {// ignore error\n  }\n\n  let srcStat;\n\n  try {\n    srcStat = await fs.lstat(srcpath);\n  } catch (err) {\n    err.message = err.message.replace('lstat', 'ensureLink');\n    throw err;\n  }\n\n  if (dstStat && areIdentical(srcStat, dstStat)) return;\n  const dir = path.dirname(dstpath);\n  const dirExists = await pathExists(dir);\n\n  if (!dirExists) {\n    await mkdir.mkdirs(dir);\n  }\n\n  await fs.link(srcpath, dstpath);\n}\n\nfunction createLinkSync(srcpath, dstpath) {\n  let dstStat;\n\n  try {\n    dstStat = fs.lstatSync(dstpath);\n  } catch {}\n\n  try {\n    const srcStat = fs.lstatSync(srcpath);\n    if (dstStat && areIdentical(srcStat, dstStat)) return;\n  } catch (err) {\n    err.message = err.message.replace('lstat', 'ensureLink');\n    throw err;\n  }\n\n  const dir = path.dirname(dstpath);\n  const dirExists = fs.existsSync(dir);\n  if (dirExists) return fs.linkSync(srcpath, dstpath);\n  mkdir.mkdirsSync(dir);\n  return fs.linkSync(srcpath, dstpath);\n}\n\nmodule.exports = {\n  createLink: u(createLink),\n  createLinkSync\n};","map":{"version":3,"names":["u","require","fromPromise","path","fs","mkdir","pathExists","areIdentical","createLink","srcpath","dstpath","dstStat","lstat","srcStat","err","message","replace","dir","dirname","dirExists","mkdirs","link","createLinkSync","lstatSync","existsSync","linkSync","mkdirsSync","module","exports"],"sources":["C:/Users/gayle/Dev/hydration-app/node_modules/gh-pages/node_modules/fs-extra/lib/ensure/link.js"],"sourcesContent":["'use strict'\n\nconst u = require('universalify').fromPromise\nconst path = require('path')\nconst fs = require('../fs')\nconst mkdir = require('../mkdirs')\nconst { pathExists } = require('../path-exists')\nconst { areIdentical } = require('../util/stat')\n\nasync function createLink (srcpath, dstpath) {\n  let dstStat\n  try {\n    dstStat = await fs.lstat(dstpath)\n  } catch {\n    // ignore error\n  }\n\n  let srcStat\n  try {\n    srcStat = await fs.lstat(srcpath)\n  } catch (err) {\n    err.message = err.message.replace('lstat', 'ensureLink')\n    throw err\n  }\n\n  if (dstStat && areIdentical(srcStat, dstStat)) return\n\n  const dir = path.dirname(dstpath)\n\n  const dirExists = await pathExists(dir)\n\n  if (!dirExists) {\n    await mkdir.mkdirs(dir)\n  }\n\n  await fs.link(srcpath, dstpath)\n}\n\nfunction createLinkSync (srcpath, dstpath) {\n  let dstStat\n  try {\n    dstStat = fs.lstatSync(dstpath)\n  } catch {}\n\n  try {\n    const srcStat = fs.lstatSync(srcpath)\n    if (dstStat && areIdentical(srcStat, dstStat)) return\n  } catch (err) {\n    err.message = err.message.replace('lstat', 'ensureLink')\n    throw err\n  }\n\n  const dir = path.dirname(dstpath)\n  const dirExists = fs.existsSync(dir)\n  if (dirExists) return fs.linkSync(srcpath, dstpath)\n  mkdir.mkdirsSync(dir)\n\n  return fs.linkSync(srcpath, dstpath)\n}\n\nmodule.exports = {\n  createLink: u(createLink),\n  createLinkSync\n}\n"],"mappings":"AAAA;;AAEA,MAAMA,CAAC,GAAGC,OAAO,CAAC,cAAD,CAAP,CAAwBC,WAAlC;;AACA,MAAMC,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMG,EAAE,GAAGH,OAAO,CAAC,OAAD,CAAlB;;AACA,MAAMI,KAAK,GAAGJ,OAAO,CAAC,WAAD,CAArB;;AACA,MAAM;EAAEK;AAAF,IAAiBL,OAAO,CAAC,gBAAD,CAA9B;;AACA,MAAM;EAAEM;AAAF,IAAmBN,OAAO,CAAC,cAAD,CAAhC;;AAEA,eAAeO,UAAf,CAA2BC,OAA3B,EAAoCC,OAApC,EAA6C;EAC3C,IAAIC,OAAJ;;EACA,IAAI;IACFA,OAAO,GAAG,MAAMP,EAAE,CAACQ,KAAH,CAASF,OAAT,CAAhB;EACD,CAFD,CAEE,MAAM,CACN;EACD;;EAED,IAAIG,OAAJ;;EACA,IAAI;IACFA,OAAO,GAAG,MAAMT,EAAE,CAACQ,KAAH,CAASH,OAAT,CAAhB;EACD,CAFD,CAEE,OAAOK,GAAP,EAAY;IACZA,GAAG,CAACC,OAAJ,GAAcD,GAAG,CAACC,OAAJ,CAAYC,OAAZ,CAAoB,OAApB,EAA6B,YAA7B,CAAd;IACA,MAAMF,GAAN;EACD;;EAED,IAAIH,OAAO,IAAIJ,YAAY,CAACM,OAAD,EAAUF,OAAV,CAA3B,EAA+C;EAE/C,MAAMM,GAAG,GAAGd,IAAI,CAACe,OAAL,CAAaR,OAAb,CAAZ;EAEA,MAAMS,SAAS,GAAG,MAAMb,UAAU,CAACW,GAAD,CAAlC;;EAEA,IAAI,CAACE,SAAL,EAAgB;IACd,MAAMd,KAAK,CAACe,MAAN,CAAaH,GAAb,CAAN;EACD;;EAED,MAAMb,EAAE,CAACiB,IAAH,CAAQZ,OAAR,EAAiBC,OAAjB,CAAN;AACD;;AAED,SAASY,cAAT,CAAyBb,OAAzB,EAAkCC,OAAlC,EAA2C;EACzC,IAAIC,OAAJ;;EACA,IAAI;IACFA,OAAO,GAAGP,EAAE,CAACmB,SAAH,CAAab,OAAb,CAAV;EACD,CAFD,CAEE,MAAM,CAAE;;EAEV,IAAI;IACF,MAAMG,OAAO,GAAGT,EAAE,CAACmB,SAAH,CAAad,OAAb,CAAhB;IACA,IAAIE,OAAO,IAAIJ,YAAY,CAACM,OAAD,EAAUF,OAAV,CAA3B,EAA+C;EAChD,CAHD,CAGE,OAAOG,GAAP,EAAY;IACZA,GAAG,CAACC,OAAJ,GAAcD,GAAG,CAACC,OAAJ,CAAYC,OAAZ,CAAoB,OAApB,EAA6B,YAA7B,CAAd;IACA,MAAMF,GAAN;EACD;;EAED,MAAMG,GAAG,GAAGd,IAAI,CAACe,OAAL,CAAaR,OAAb,CAAZ;EACA,MAAMS,SAAS,GAAGf,EAAE,CAACoB,UAAH,CAAcP,GAAd,CAAlB;EACA,IAAIE,SAAJ,EAAe,OAAOf,EAAE,CAACqB,QAAH,CAAYhB,OAAZ,EAAqBC,OAArB,CAAP;EACfL,KAAK,CAACqB,UAAN,CAAiBT,GAAjB;EAEA,OAAOb,EAAE,CAACqB,QAAH,CAAYhB,OAAZ,EAAqBC,OAArB,CAAP;AACD;;AAEDiB,MAAM,CAACC,OAAP,GAAiB;EACfpB,UAAU,EAAER,CAAC,CAACQ,UAAD,CADE;EAEfc;AAFe,CAAjB"},"metadata":{},"sourceType":"script"}